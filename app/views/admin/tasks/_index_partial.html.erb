<div class="container-fluid">
  <div class="row">
    <div class="routelist-header bg-blue-gradient">
      <h1 class="hidden-xs"><strong>Task</strong>List </h1>
      <h1 class="hidden-sm hidden-md hidden-lg hidden-xl"> Tasks </h1>
    <span class="pull-right">
      <button class="btn btn-filter" type="button" data-toggle="collapse" data-target="#taskFilters" aria-expanded="false" aria-controls="taskFilters">
        Filters <span class="glyphicon glyphicon-filter"></span>
      </button>
      <%= link_to "Create new task", new_admin_facility_task_path(@facility), remote: false, class: "btn btn-filter", style: "display: inline-block;" %>
    </span>
  </div>
  </div>
</div>
<div class="collapse" id="taskFilters">
  <br>

<%= form_for_filterrific @filterrific do |f| %>
  <div class="container-fluid bg-gray">
    <div class="filter">
      <div class="row">
        <div class="col-xs-12 col-sm-2 col-md-2">
          <%= f.label :user,  "Filters" %>
          <%= f.select(
            :task_with_setter_id,
            @filterrific.select_options[:task_with_setter_id],
            { include_blank: 'All setters' },
            {class: "form-control"}
          ) %>
        </div>
        <div class="col-xs-12 col-sm-2 col-md-2">
          <label class="hidden-xs">&nbsp;</label>
          <%= f.select(
            :task_with_zone_id,
            @filterrific.select_options[:task_with_zone_id],
            { include_blank: 'All zones' },
            {class: "form-control"}
          ) %>
        </div>
        <div class="col-xs-12 col-sm-2 col-md-2">
          <label class="hidden-xs">&nbsp;</label>
          <%= f.select(
            :task_with_status_id,
            @filterrific.select_options[:task_with_status_id],
            { include_blank: 'All' },
            {class: "form-control"}
          ) %>
        </div>
        <div class="col-xs-6 col-sm-3 col-md-3">
          <%= f.label :setdate,  "Due date (start range):" %>
          <%= f.date_field :task_with_setdate_gte, include_blank: true, class: 'form-control date filterrific-periodically-observed', placeholder: 'mm/dd/yyyy' %>
        </div>
        <div class="col-xs-6 col-sm-3 col-md-3">
          <%= f.label :setdate,  "Due date (end range):" %>
          <%= f.date_field :task_with_setdate_lt, include_blank: true, class: 'form-control date filterrific-periodically-observed', placeholder: 'mm/dd/yyyy' %>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <span class="pull-right">
            <%= link_to(
              'Reset filters',
              reset_filterrific_url
            ) %>
          </span>
        </div>
      </div>
    </div>
  </div>
<% end %>
</div>
<br />
<%= render(
partial: 'admin/tasks/list',
locals: { tasks: @tasks }
) %>
