
<%= form_for [:admin, @facility, @route] do |f| %>
  <%= render 'shared/error_messages', object: f.object %>
    <div class="row">
      <div class="col-sm-12">
        <%= f.label :name, "Route info" %>
        <%= f.text_field :name, class: 'form-control', placeholder: "Route name (optional)" %>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <%= f.text_field :color, class: 'form-control', placeholder: "Route color" %>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <%= f.select(:grade_id, @facilitygrades,
        { include_blank: 'Select grade' },
        {class: "form-control"}) %>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <%= f.select(:setter_id, @facilitysetters,
        { include_blank: 'Select setter' },
        {class: "form-control"}) %>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <%= f.label :zone_id, "Zone" %>
        <%= f.select(:zone_id, @facilityzones,
        { include_blank: 'Select primary zone' },
        {class: "form-control"}) %>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <%= f.label :wall_id, "Sub-zone" %>
        <%= f.grouped_collection_select(:wall_id, Zone.where(facility_id: @facility.id) , :walls, :name, :id, :name,
        { include_blank: 'Select child zone' },
        {class: "form-control"}) %>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <%= f.label :sub_child_zone_id, "Sub-child zone" %>
        <%= f.grouped_collection_select(:sub_child_zone_id, Wall.where(facility_id: @facility.id) , :sub_child_zones, :name, :id, :name,
        { include_blank: 'Select sub-child zone' },
        {class: "form-control"}) %>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-6">
        <%= f.label :setdate, "Set Date" %>
        <% if params[:action] == "edit" %>
          <%= f.date_field :setdate, class: 'form-control' %>
        <% else %>
          <%= f.date_field :setdate, :value => Time.now.strftime('%Y-%m-%d'), class: 'form-control' %>
        <% end %>

      </div>
      <div class="col-sm-6">
        <%= f.label :enddate, "End Date" %>
        <% if params[:action] == "edit" %>
          <%= f.date_field :enddate, class: 'form-control' %>
        <% else %>
          <%= f.date_field :enddate, :value => 40.days.from_now.strftime('%Y-%m-%d'), class: 'form-control' %>
        <% end %>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <%= f.text_area :description, class: 'form-control', placeholder: "Description (optional)", rows: "2" %>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <%= f.submit "SUBMIT", class: "btn btn-submit" %>
      </div>
    </div>
  <br/>
<% end %>
